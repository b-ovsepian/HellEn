{"version":3,"sources":["js/slider.js"],"names":["multiItemSlider","selector","config","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_sliderControls","_sliderControlLeft","_sliderControlRight","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","forEach","item","index","push","position","transform","length","_transformItem","direction","classList","contains","add","remove","style","list","console","log","addEventListener","handler","onHandler","_controlClick","e","target","preventDefault","right","left","slider"],"mappings":";AAAA,aACA,IAAIA,EACK,SAAUC,EAAUC,GACrBC,IAAAA,EAAeC,SAASC,cAAcJ,GACxCK,EAAiBH,EAAaE,cAAc,oBAC5CE,EAAeJ,EAAaK,iBAAiB,iBAC7CC,EAAkBN,EAAaK,iBAAiB,oBAChDE,EAAqBP,EAAaE,cAAc,yBAChDM,EAAsBR,EAAaE,cACjC,0BAEFO,EAAgBC,WAAWC,iBAAiBR,GAAgBS,OAC5DC,EAAaH,WAAWC,iBAAiBP,EAAa,IAAIQ,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAASH,EAAaJ,EAAkB,IACxCQ,EAAS,GAEXb,EAAac,QAAQ,SAAUC,EAAMC,GACnCH,EAAOI,KAAK,CAAEF,KAAMA,EAAMG,SAAUF,EAAOG,UAAW,MAGpDD,IAAAA,EACM,EADNA,EAEML,EAAOO,OAAS,EAGtBC,EAAiB,SAAUC,GACzBA,GAAc,UAAdA,EAAuB,CAEvBZ,GAAAA,EAAoBL,EAAgBI,EAAa,GACjDS,EAEA,OAEGf,EAAmBoB,UAAUC,SAAS,yBACzCrB,EAAmBoB,UAAUE,IAAI,wBAGjCrB,EAAoBmB,UAAUC,SAAS,yBACvCd,EAAoBL,EAAgBI,GAAcS,GAElDd,EAAoBmB,UAAUG,OAAO,wBAEvChB,IACAC,GAAcC,EAEZU,GAAc,SAAdA,EAAsB,CACpBZ,GAAAA,GAAqBQ,EACvB,OAEGd,EAAoBmB,UAAUC,SAAS,yBAC1CpB,EAAoBmB,UAAUE,IAAI,wBAGlCtB,EAAmBoB,UAAUC,SAAS,yBACtCd,EAAoB,GAAKQ,GAEzBf,EAAmBoB,UAAUG,OAAO,wBAEtChB,IACAC,GAAcC,EAEhBb,EAAe4B,MAAMR,UAAY,cAAgBR,EAAa,MAG1DiB,EAAO/B,SAASC,cAAc,4BACpC+B,QAAQC,IAAIF,GACZxB,EAAoB2B,iBAAiB,QAG5BC,WACPJ,EAAKD,MAAMR,UAAY,eAAiBR,EAAa,KAAO,QAH9DR,EAAmB4B,iBAAiB,QAM3BE,WACPL,EAAKD,MAAMR,UAAY,eAAiBR,EAAa,KAAO,QAI1DuB,IAAAA,EAAgB,SAAUC,GACxBA,GAAAA,EAAEC,OAAOb,UAAUC,SAAS,mBAAoB,CAClDW,EAAEE,iBACEf,IAAAA,EAAYa,EAAEC,OAAOb,UAAUC,SAAS,yBACxC,QACA,OACJH,EAAeC,KAcZ,OARLpB,EAAgBY,QAAQ,SAAUC,GAChCA,EAAKgB,iBAAiB,QAASG,KAO5B,CACLI,MAAO,WAELjB,EAAe,UAEjBkB,KAAM,WAEJlB,EAAe,WAMnBmB,EAAS/C,EAAgB","file":"slider.3efc642d.js","sourceRoot":"../src","sourcesContent":["'use strict';\nvar multiItemSlider = (function () {\n  return function (selector, config) {\n    var _mainElement = document.querySelector(selector), // основный элемент блока\n      _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item\n      _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)\n      _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления\n      _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка \"LEFT\"\n      _sliderControlRight = _mainElement.querySelector(\n        '.slider__control_right',\n      ), // кнопка \"RIGHT\"\n      _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки\n      _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента\n      _positionLeftItem = 0, // позиция левого активного элемента\n      _transform = 0, // значение транфсофрмации .slider_wrapper\n      _step = (_itemWidth / _wrapperWidth) * (100 % -120), // величина шага (для трансформации)\n      _items = []; // массив элементов\n    // наполнение массива _items\n    _sliderItems.forEach(function (item, index) {\n      _items.push({ item: item, position: index, transform: 0 });\n    });\n\n    var position = {\n      getMin: 0,\n      getMax: _items.length - 1,\n    };\n\n    var _transformItem = function (direction) {\n      if (direction === 'right') {\n        if (\n          _positionLeftItem + _wrapperWidth / _itemWidth - 1 >=\n          position.getMax\n        ) {\n          return;\n        }\n        if (!_sliderControlLeft.classList.contains('slider__control_show')) {\n          _sliderControlLeft.classList.add('slider__control_show');\n        }\n        if (\n          _sliderControlRight.classList.contains('slider__control_show') &&\n          _positionLeftItem + _wrapperWidth / _itemWidth >= position.getMax\n        ) {\n          _sliderControlRight.classList.remove('slider__control_show');\n        }\n        _positionLeftItem++;\n        _transform -= _step;\n      }\n      if (direction === 'left') {\n        if (_positionLeftItem <= position.getMin) {\n          return;\n        }\n        if (!_sliderControlRight.classList.contains('slider__control_show')) {\n          _sliderControlRight.classList.add('slider__control_show');\n        }\n        if (\n          _sliderControlLeft.classList.contains('slider__control_show') &&\n          _positionLeftItem - 1 <= position.getMin\n        ) {\n          _sliderControlLeft.classList.remove('slider__control_show');\n        }\n        _positionLeftItem--;\n        _transform += _step;\n      }\n      _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\n    };\n\n    const list = document.querySelector('.testimonials-thumb-list');\n    console.log(list);\n    _sliderControlRight.addEventListener('click', handler);\n    _sliderControlLeft.addEventListener('click', onHandler);\n\n    function handler() {\n      list.style.transform = 'translateX(' + (_transform - 100) + 'px)';\n    }\n\n    function onHandler() {\n      list.style.transform = 'translateX(' + (_transform + 100) + 'px)';\n    }\n\n    // обработчик события click для кнопок \"назад\" и \"вперед\"\n    var _controlClick = function (e) {\n      if (e.target.classList.contains('slider__control')) {\n        e.preventDefault();\n        var direction = e.target.classList.contains('slider__control_right')\n          ? 'right'\n          : 'left';\n        _transformItem(direction);\n      }\n    };\n\n    var _setUpListeners = function () {\n      // добавление к кнопкам \"назад\" и \"вперед\" обрботчика _controlClick для событя click\n      _sliderControls.forEach(function (item) {\n        item.addEventListener('click', _controlClick);\n      });\n    };\n\n    // инициализация\n    _setUpListeners();\n\n    return {\n      right: function () {\n        // метод right\n        _transformItem('right');\n      },\n      left: function () {\n        // метод left\n        _transformItem('left');\n      },\n    };\n  };\n})();\n\nvar slider = multiItemSlider('.slider');\n"]}